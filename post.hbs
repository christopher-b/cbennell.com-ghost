{{!< default}}

{{#post}}
<article class="{{post_class}}">
  <header>
    <h1 class="text-6xl font-bold mb-6">{{title}}</h1>

    <div class="flex my-6">
      <p class="italic">
        <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="D MMM YYYY"}}</time>
        <span>&bull;</span>
        {{reading_time}}
        <!-- <span>&bull;</span> -->
        <!-- Written by {{#foreach authors}}<a href="{{url}}">{{name}}</a>{{/foreach}} -->
      </p>

      {{! tags separator=" â€¢ "}}
      {{#if tags}}
        <span class="mx-1">&bull;</span>
        <ul class="flex gap-3">
        {{#foreach tags}}
          <li>
            <a class="underline decoration-dotted
              decoration-accent-light
              text-accent-light
              bg-accent-med
              px-2 pt-1 pb-1.5
              rounded

              dark:decoration-accent-light
              dark:text-accent-light
            "
              href="{{url}}" title="{{name}}" class="tag tag-{{id}} {{slug}}">{{name}}</a>
          </li>
        {{/foreach}}
        </ul>
      {{/if}}
    </div>

    {{!--
    {{#if custom_excerpt}}
      <p class="my-6">{{custom_excerpt}}</p>
    {{/if}}
    --}}

    {{#if feature_image}}
    <figure class="my-6">
      <picture>
        <source
          srcset="
          {{img_url feature_image size="xxs" format="avif"}} 30w,
          {{img_url feature_image size="xs" format="avif"}} 100w,
          {{img_url feature_image size="s" format="avif"}} 300w,
          {{img_url feature_image size="m" format="avif"}} 600w,
          {{img_url feature_image size="l" format="avif"}} 1200w,
          {{img_url feature_image size="xl" format="avif"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw"
          type="image/avif"
        >
        <source
          srcset="
          {{img_url feature_image size="xxs" format="webp"}} 30w,
          {{img_url feature_image size="xs" format="webp"}} 100w,
          {{img_url feature_image size="s" format="webp"}} 300w,
          {{img_url feature_image size="m" format="webp"}} 600w,
          {{img_url feature_image size="l" format="webp"}} 1200w,
          {{img_url feature_image size="xl" format="webp"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw"
          type="image/webp"
        >
        <img
          class="w-full max-h-100 object-cover"
          srcset="
          {{img_url feature_image size="xxs"}} 30w,
          {{img_url feature_image size="xs"}} 100w,
          {{img_url feature_image size="s"}} 300w,
          {{img_url feature_image size="m"}} 600w,
          {{img_url feature_image size="l"}} 1200w,
          {{img_url feature_image size="xl"}} 2000w"
          sizes="(min-width: 1200px) 1200px, 90vw"
          src="{{img_url feature_image size="l"}}"
          alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
        >
      </picture>
      {{#if feature_image_caption}}
        <figcaption class="text-sm italic pt-1">{{feature_image_caption}}</figcaption>
      {{/if}}
    </figure>
    {{/if}}
  </header>

  <div class="content max-w-[75ch] text-xl prose prose-img:m-0 dark:prose-invert w-full line-numbers">
    {{content}}
  </div>

  <footer class="my-6">
    {{#if comments mode="auto"}}
    <section class="my-6 dark:text-neutral-light">
      {{comments}}

    </section>
    {{/if}}
  </footer>
</article>

<aside class="mb-6 w-3xl flex gap-4">
  <div class="flex-1">
    {{#next_post}}
      <a href="{{url}}" class="inline-flex items-center">
        <span class="mx-3 w-2 align-text-top">
          {{> "icons/arrow-left"}}
        </span>
        <h4 class="align-text-top">{{title}}</h4>
      </a>
    {{/next_post}}
  </div>
  <div class="flex-1 text-right">
    {{#prev_post}}
      <a href="{{url}}" class="inline-flex items-center">
        <h4>{{title}}</h4>
        <span class="w-2 mx-3">
          {{> "icons/arrow-right"}}
        </span>
     </a>
    {{/prev_post}}
  </div>
</aside>

{{/post}}